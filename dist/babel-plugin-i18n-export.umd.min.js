!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n["babel-plugin-i18n-export"]=e()}(this,function(){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}var e=require("fs");require("fs");var t=[];return function(o){return o.types,{visitor:{CallExpression:{enter:function(n,e){var o=e.opts.functionName||"i18n";if("CallExpression"===n.type&&n.node.callee){var r=n.node,a=null;if(a="MemberExpression"==r.callee.type&&r.callee.property?r.callee.property.name:r.callee.name,r.callee&&a===o){var i=[];r.arguments&&r.arguments.forEach(function(n){"StringLiteral"===n.type?i.push(n.value):"NumericLiteral"===n.type?i.push(n.value):"TemplateLiteral"===n.type&&i.push(function(n){for(var e="",t=0;t<n.quasis.length;t++){var o=n.quasis[t];e+=o.value.cooked,n.expressions[t]&&(e+="${"+t+"}")}return e}(n))}),1===i.length&&(i=i[0]);var l={functionName:a,functionArgs:i};t.push(l)}}}}},post:function(o){console.log("callList",t),console.log("findName",findName),function(t,o){for(var r={},a=0;a<t.length;a++){var i=t[a],l="",s="";"object"==n(i.functionArgs)||"array"==typeof i.functionArgs?2==i.functionArgs.length&&"object"==n(i.functionArgs[1])?s=i.functionArgs[0]:(l="$$$"+i.functionArgs[0]+"=",s=i.functionArgs[1]):s=i.functionArgs,r[l+s]=s}if(e.existsSync("local")||e.mkdirSync("local"),o.opts.exportRaw)e.writeFileSync("local/ExportRaw."+Math.random()+".json",JSON.stringify({callList:t},null,4));else{var c={translationMap:{}};if(e.existsSync("local/Export.language.json"))try{c=JSON.parse(e.readFileSync("local/Export.language.json"))}catch(n){c={translationMap:{}}}e.writeFileSync("local/Export.language.json",JSON.stringify({translationMap:Object.assign(c.translationMap,r)},null,4))}}(t,o)}}}});
